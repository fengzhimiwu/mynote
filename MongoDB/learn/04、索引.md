### 简介

在任何的数据库之中，索引都是一种提升数据库检索性能的手段，这一点在mongodb数据库之中同样是存在的，mongodb数据库里面依然会存在有两种的索引创建：一种是自动创建的，另外一种是手动创建的。

范例：重新准备一个新的简单集合

```
db.students.drop();
db.students.insert({"name": "张三", "sex": "男","age": 19,"score": 89,"address":"海淀区"});
```

此时在students集合上并没有去设置任何索引，那么下面通过getIndexes()来观察在students集合里面已经存在的索引内容。

```
db.students.getIndexes();
```

现在发现会存在有一个“_id”列的索引内容。但是如果要想创建自己的索引，则可以使用如下的语法：

- 索引创建：db.集合名称.ensureIndex({列: 1})
- - 设置的1 表示索引按照升序的方式进行排列，如果使用降序设置“-1”。

范例：创建一个索引，在age字段上设置一个降序索引；

```
db.students.ensureIndex({"age": -1});
```

此时并没有设置索引的名字，所以名字是自动命名的。

命名规范：“字段名称_索引的排序模式”。

范例：针对于当前的age字段上的索引做一个分析

```
db.students.find({"age": 19}).explain();
```

此时的查询使用了索引的技术，但是下面再来观察一个查询，不使用索引字段。

范例：针对于score字段上设置查询

```
db.students.find({"age": {"$eq": 19}});
db.students.find({"score": {"$gt": 60}}).explain();
```

此时在score字段上并没有设置索引，所以当前的索引形式就变为了全集扫描的模式。

但是如果说，现在换一种形式，年龄和成绩一起执行判断查询？

```
db.students.find({"$or": [
	{"age": {"$gt": 19}},
	{"score": {"$gt": 60}}
]}).explain();
```

这个时候虽然age字段上存在有索引，但是一个明显的问题是，由于score字段上没有索引，所以依然使用的是全表扫描操作，那么为了解决此时的问题，可以使用一个复合索引。