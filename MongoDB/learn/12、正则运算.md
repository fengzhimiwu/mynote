如果要想实现模糊查询，那么必须使用正则表达式，而且正则表达式使用的语言是Perl兼容的正则表达的形式。

如果要想实现正则使用，则按照如下的定义格式：

- 基础语法：{key: 正则标记}；

- 完整语法：{key: {"\$regex": 正则标记, "\$options": 选项}}

- - 对于options主要是设置正则的信息查询的标记：

  - - ”i“：忽略字母大小写；

    - ”m“： 多行查找；

    - ”x“： 空白字符串除了被转义的或在字符类中以外的完全被忽略

    - ”s“：匹配所有的字符（圆点、”.“），包括换行内容。

- - 需要注意的是，如果是直接使用（javascript）那么只能够使用 i 和 m，而”x“ 和”s“必须使用”$regex“。

范例：查询以”谷“开头的姓名

db.students.find({"name": /谷/}).pretty();

范例：查询姓名有字母A

db.students.find({"name": /a/i}).pretty();

db.students.find({"name": {"$regex": /a/i}}).pretty();

如果要执行模糊查询操作，严格来讲只需要编写一个关键字就够了。

增则操作之中除了可以查询出单个字段的内容之外，也可以进行数组数据的查询。

范例：查询数组数据

db.students.find({"course": /语/}).pretty();

db.students.find({"course": /语?/}).pretty();

mongodb中的正则符号和java正则是有一些小小差别，不建议使用以前的一些标记，正则就将其应用在模糊数据查询上。

