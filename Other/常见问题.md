###一 算法

基本排序算法要会写,时间复杂度要会推算, 主要是冒泡排序, 快速排序, 选择排序.
查找算法,要会写二分查找法, 实际场景要会应用.
实例算法思路要明白,基本算法看多了, 我觉得是几种思路的变换, 需要自己领悟.
面试中考过:

猴子选大王

```php
function mk($n ,$m){
        $arr = range(1,$n);//构造一个数组
        $i = 1; //从第一个开始循环
        while(count($arr)>1){ //如果总数大于1
            ($i % $m != 0) && array_push($arr,$arr[$i-1]);//不被踢出则压入数组尾部
            unset($arr[$i-1]);//压入数组然后删除
            $i++;//继续循环
        }  
        return $arr[$i-1]; //直至最后剩下一个为大王 
}
print_r(mk(6,8));   //第3只为大王

//---------------------------------------------------------------------------------------

function mk($n, $m) {
        $arr = range(1, $n); 
        $i = 0;    
        while (count($arr) > 1) {   
           //遍历数组，判断当前猴子是否为出局序号，如果是则出局，否则放到数组最后
            (($i + 1) % $m != 0) &&  array_push($arr, $arr[$i]);   
            unset($arr[$i]);    
            $i++;  
        } 
        return $arr[$i];
    }
    print_r(mk(6,8));   //第3只为大王

//---------------------------------------------------------------------------------------

$arr = array(1,2,3,4,5,6,7,8,9,10);//示例数组
echo 'The King is :
';
print_r(King($arr,12));

function King($arr,$count){
	while(count($arr) != 1){//如果数组只剩一个，就是大王，即结果
		$length = count($arr);//统计本次循环数组所剩数目
		if($length >= $count){//如果所要压出数组直接可以点出来
			$res = array_splice($arr,$count-1,1);//压出数组
		}else{
			$remainder = $count%$length;//求余数，即为所要压出数组的元素
			if($remainder == 0){
				$remainder = $length;//如果求余结果为0，即时为本数组最后一个元素
			}
			$res = array_splice($arr,$remainder-1,1);//压出数组
		}
	}
	return $arr;//返回所求，即大王
}

//---------------------------------------------------------------------------------------

function killMonkey($monkeys , $m , $current = 0){
    $number = count($monkeys);
    $num = 1;
    if(count($monkeys) == 1){
        echo $monkeys[0]."成为猴王了";
        return;
    }
    else{
        while($num++ < $m){
            $current++ ;
            $current = $current%$number;
        }
        echo $monkeys[$current]."的猴子被踢掉了
";
        array_splice($monkeys , $current , 1);
        killMonkey($monkeys , $m , $current);
    }
}
$monkeys = array(1 , 2 , 3 , 4 , 5 , 6 , 7, 8 , 9 , 10); //monkeys的编号
$m = 4; //数到第几只猴子被踢出
killMonkey($monkeys , $m);

//---------------------------------------------------------------------------------------

function king($m, $n) { 
	 for($i = 1;$i < $m + 1;$i++) { 
		 //构建数组 
		  $arr[] = $i; 
	 } 
	 $i = 0;//设置数组指针 
	 while (count($arr) > 1) { 
		  //遍历数组，判断当前猴子是否为出局序号， 
		  //如果是则出局，否则放到数组最后 
		  if (($i + 1) % $n == 0) { 
		  	 unset($arr[$i]); 
		  } else { 
			   array_push($arr, $arr[$i]); 
			   //本轮非出局猴子放数组尾部 
			   unset($arr[$i]); 
			   //删除 
		  } 
		  $i++; 
	 } 
	 return $arr; 
} 
var_dump(king(100,5)); 
```



斗地主项目设计
实现随机函数
字符串中元素各种变形查找
123456 六个数放到三角形三个顶点及中点上,使每条边上的数字和相等
一个超大文件里面存放关键,统计每个关键的个数, 问如何实现
一个10G的文件,里面存放关键字, 但内存只有10M, 问如何实现统计, 出现关键字次数最高的前100个
实现单链表与双链表
实现有权重的随机算法
应该就这么多,其他想不起来, 做这些算法需要冷静分析下, 不要轻易说no

###二 php 知识

说说php的魔术变量, 要能全部说出来.
php的设计模式, 要能清晰说出单例, 工厂, 注册模式的实际应用.
session与cookie的区别及如何解决session的跨域共享.
如何防止sql注入及数据安全问题.
php的生命周期, 启动流程, 多看TIPI.
php的垃圾回收机制, php变量,数组 c源代码如何实现.
fastcgi 比 php-cgi 的优势在哪里.
你用过那些框架, 各自有什么优缺点.
你是怎么理解php的.
php运行模式有几种,分别是什么.

PHP如何实现静态化
你了解设计模式吗？说下你最常用的设计模式
观察者模式是如何实现的？工厂模式是如何实现的？适配器模式是如何实现的？……
PHP的优化方案
说下你了解的session和cookie
如何实现不基于session和cookie的用户认证。
说下你目前框架所用到的核心概念
什么是CSRF攻击，XSS攻击？如何防范
你了解RESTful API吗？说说干什么用的。
设计的原则
如果实现自动加载？不用composer如何实现？PSR-4是什么？

php 中常用作用相似，性能差异很大的函数区分及举例

操作系统（《CSAPP》/《APUE》）
IO 多路复用是什么？有哪些 api？
select 和 epoll 的区别？水平触发和边缘触发的区别是啥？使用的时候需要注意什么？
epoll 储存描述符的数据结构是什么？
select 有描述符限制吗？是多少？
进程 / 线程 / 协程区别？go 和 swoole 的协程实现有啥区别？（分配资源的基本单位 / 运行和调度的基本单位 / 用户线程，M:N 模型和 N:1 模型）
PHP（php 源代码，主流 php 框架源代码）
描述一下 cli 模式下的几个生命周期？
php-fpm 运行机制？（master 管理，worker 循环 accept）
php-fpm 模式下，kill -9 master-pid，会怎么样？kill matser-pid 呢？（信号机制）
内存分配流程？为什么要这么设计？
GC 的出现是为了解决什么问题？什么时候会触发 GC？说下大概流程
php 里的数组是怎么实现的？（这里要注意下 php5 和 php7 实现的区别，优化了非常多）
nginx 和 php-fpm 的通信机制？fast-cgi 和 cgi 区别？
php-fpm 创建 worker 进程的规则是什么？不同场景下怎么选择？
php 和 mysql 的通信机制？长链接和短链接啥区别？怎么实现的？连接池要怎么实现？
swoole 协程的原理？（遇到阻塞时引发 php 栈和 c 栈的切换，细节可以参考下我的文章）
依赖注入是什么？如何实现的？能解决什么问题？（代码层面不再依赖具体实现，解耦）

Apache
性能优化，配置，fastCGI 等几种工作模式

垃圾回收算法，垃圾回收器有什么？

###三 网络

http code 码含义 比如204, 304, 404
apache与nginx对比,你觉得他们各自的优缺点.
nginx与php数据通信原理是什么.
http1.0与http1.1的区别, http与https的区别.
描述http请求的三次握手.
如何实现跨域请求.
关于header的各种参数的作用.
长连接的优势在哪里.

TCP的三次握手，为什么三次，两次不行吗？为什么挥手又是四次

###四 数据库

你采用mysql的引擎是什么. mysql innodb与myisam 这两种引擎本质区别是什么, 要能够从底层数据实现来说.
mysql 字段类型有那些, 它们在内存能够存储多少字节数据, 比如 datetime timestamp date.
在正式服务器上, 如何操作一个存储大数据表上增加一个字段或添加索引或改变数据字段类型.
索引最左原则的意思是什么.
mysql分库分表策略, 如何解决增表,减表问题.
redis与memcached对比,各自优缺点.
redis与memcached如何实现分布式搭建.
一致性hash原理是什么.
mongodb与mysql对比,优势在什么地方.

mysql（《高性能 mysql》/《mysql 技术内幕 innodb 储存引擎》）
innodb 的索引组织方式？（聚簇索引必须要很清楚，注意 innodb 聚簇索引叶子结点保存的是完整数据，innodb 普通索引叶子保存的是记录的主键，myisam 索引叶子保存的是记录的位置 / 偏移量）
B + 树的结构和插入细节？为什么主键一般都要自增？和 B 树什么区别？为什么索引要使用 B + 树不是 B 树也不是其他的平衡树？为什么 redis 可以用跳表？（关键词：页的分裂，随机 IO，缓存体系）
常见的优化（这里我就不展开了，主要考察覆盖索引查询和最左匹配，其实只要清楚 innodb 索引的结构，这些都不需要记忆，自然而然推导出来的）
redolog/undolog/binlog 的区别？binlog 的几种格式？说下两阶段提交？
事务隔离级别和不同级别会出现的问题，innodb 默认哪个级别？MVCC 怎么实现的？快照读和当前读有啥区别？幻读的问题怎么解决？
死锁什么时候会出现？应用层应该怎么做避免死锁？mysql 是怎么处理死锁的呢？
int 占多少字节？bigint 呢？int (3) 和 int (11) 有区别吗？可以往 int (3) 里存 1 亿吗？varchar 最长多少？
sql 的执行流程（原始 sql-> 词法语法分析生成 AST-> 关系代数表达式（逻辑计划）-> 逻辑优化（谓词下推 / 常量传递）-> 物理查询优化（计算最佳 cost 路径，扫表还是使用索引，join 算法）-> 执行，仅做参考）

你知道nosql吗？你用的nosql都有哪些？
mysql索引优化
mysql的优化方案
mysql的事务
mysql的读写分离
消息队列如何实现
查询优化
msyql的存储引擎，以及各自的区别
redis和memcache有什么区别
索引有哪些，你是如何做索引的？
如何分表

事务的基本要素
事务隔离级别
如何解决事务的并发问题(脏读，幻读)？
MVCC多版本并发控制？
binlog,redolog,undolog都是什么，起什么作用？
InnoDB的行锁/表锁？
myisam和innodb的区别，什么时候选择myisam？
为什么选择B+树作为索引结构？
索引B+树的叶子节点都可以存哪些东西？
查询在什么时候不走（预期中的）索引？
sql如何优化?
explain是如何解析sql的？
order by原理



redis（redis 源代码）
sds 的结构是什么？为什么要存长度？跟 c 里的字符串有什么区别？（关键词：获取长度复杂度 O (1) 和 O (n)，二进制安全，保存 \0，跟 C 库字符串函数可以通用）
hash 怎么实现的？怎么解决 hash 冲突？除了 hashTable 还有别的吗？
zset 怎么实现的？跳表是怎么插入的？为什么选择跳表不用其他平衡二叉树？除了跳表还有别的吗？
rehash 过程？会主动 rehash 吗？
用 redis 可以实现队列吗？有什么优点和缺点？
用 redis 怎么实现一个延时队列？
rdb 和 aof 过程？rdb 为什么可以用创建子进程的方式进行？（这里考察一个 cow）这两种持久化方式会丢数据吗？
redis 为什么快？（主要考察一个 IO 多路复用和单线程不加锁）
一致性哈希是什么？节点较少时数据分布不均匀怎么办？
简单说下几种 key 的淘汰策略，redis 里的 lru 算法，什么时候会触发？实现细节是什么？怎么保证淘汰合理的 key？
lua 脚本的作用是什么？
缓存击穿 / 穿透 / 雪崩的处理策略

Redis的应用场景
Redis支持的数据类型（必考）
zset跳表的数据结构（必考）
Redis的数据过期策略（必考）
Redis的LRU过期策略的具体实现
如何解决Redis缓存雪崩，缓存穿透问题
Redis的持久化机制（必考）
Redis的管道pipeline



###五 LINUX

如何查看服务器负载
说说你常用的命令
如何统计日志文件中访问次数最多的十个ip地址.
源码编译过lamp 或 lnmp 软件吗
在当前目录下,如何查找包含keyword文件.
如何重启php 或 nginx.
进程与线程的区别
什么情况下会出现死锁, 如何解决死锁.

说下一些你常用的linux命令
Linux如何搭建LAMP环境
你们平常工作的系统环境是在哪里？
你了解Docker吗？
你说下常用的服务端口号

nginx
LVS 和 Nginx 分别作用在 osi 哪一层？
负载均衡算法
数据结构
布隆过滤器，什么时候用？优点是什么？
算法
leetcode easy 级别的题目，具体我就不写了，难度比较低



###六 swoole
为什么用swoole？swoole的优势是什么？
tcp三次握手过程，详细一些。
握手过程中可能出什么问题
优先级队列如何实现
什么是epoll？你怎么用的，简单写下代码？accept阻塞在哪儿了？如果是epoll为什么不阻塞了？
异步和非阻塞的区别，说详细
php中使用epoll的伪代码流程
进程，线程，协程的区别
最大堆最小堆实现优先级队列
arp协议和rarp协议，说下arp劫持
epoll的常用模式是哪两种？区别是什么？

###前端知识

说下都有哪些跨域。
事件冒泡
DOM事件流
JS是如何实现继承的

###算法和其它方面

最常用的排序算法
做一个微信抢红包的功能
如何防止高并发
你们用哪种版本控制？如何避免代码冲突
在浏览中输入网址后都发生了什么
你了解socket吗？

异构系统通讯中的通讯加密方案

分布式锁是锁住一部分还是整个系统，既然是锁住整个，为什么不用消息队列？
详细讲下怎么用 mq 实现的最终一致性，还有怎么利用的消息事务？
tcp 于 http 的关系，如何基于 tcp 实现 http

数据库的乐观锁和悲观锁是什么
乐观锁实现原理，讲到一半，来写一个乐观锁吧

假如有一个类 A 和一个 类 B，这两个类都有一个变量和一个自增操作，A 类的变量用 volatile 修饰，B 类没有用，B 类的自增操作用 synchorized 修饰，他们都是线程安全的吗，如果都是，那为什么要用 synchorized ，volatile 不是更轻量吗，synchorized 有什么作用。
智力题：岛上有群人，各自戴着红帽子或者白帽子，但都不知道自己帽子颜色，只有知道自己帽子颜色，第二天才能出岛，这时候有个人进来说了句“你们之中至少有一个人戴了顶红帽子”，问岛上的人最后的离开情况

为什么要用MongoDB？为什么不用MySQL？MongoDB有哪些特性，能说一下吗？
文档型数据库有哪些？ES与MongoDB有什么区别？为什么ES搜索更快？
数据库都有哪些类型，关系型数据库和NoSQL有什么区别？
NoSQL有哪些？他们的使用场景都说一下

UML都有哪些图？如何从这些UML的图中来实现你的需求设计？
设计模式说一下

SOA了解过吧？那什么是SOA？SOA与微服务相比有什么优缺点？

微服务了解过吧(了解过一点)，微服务都有什么好处？
微服务都有哪些框架或中间件？

超线程是什么？知道吗？（顿时懵了，啥啊，没听过）
对未来的技术有什么规划？你为什么要学这些技术？

分布式锁的实现
分布式锁过期解决
前缀树是什么？前缀树的使用场景？
分布式数据库主从复制（我说我不会分布式的，我会主从复制，然后面试官叫我讲讲）
MySQL 死锁发生的原因和解决
MySQL 分别建立索引 a,b,c ，语句 select ...where b=x,c=x,a=x 能不能用到索引，建立联合索引能不能用到，a=x,b>x，能不能用到，用到几个索引？
B 树和 b+ 树的区别 b+ 树的优点
Linux cpu 满了怎么排查？
怎么查看占 cpu 最多的线程？
Linux怎么搜索文件中的字符串，写到另一个文件中
liunx 网络相关命令
如何判断链表是否有环

面向过程和面向对象
多态是什么？父类如何调用子类的方法

进程调度、虚拟内存、进程与线程的区别、如何判断进程是否发生了内存泄漏
常见的设计模式
tcp与udp区别、tcp三次握手和四次挥手、流量控制、拥塞控制（四个算法，问得很细）
分布式事务（并说一下2PC）、redis底层数据结构有哪些、持久化方式
B+树索引和hash索引的区别
redis分布式锁，其他实现方式，zookeeper如何实现的？
分布式的一致性，强一致性和最终一致性
Linux如何查看IO读写很高
集群脑裂
Linux中异步IO是如何实现的，消息队列如何实现的？
Redis持久化，“并发高，数据量小”和“并发低，数据量大”，redis怎么选择存储模式
Mysql主从复制原理，mysql中如何做故障转移（容灾）
Nginx生命周期
疫情期间，如果让你去调研所在城市口罩的可用量，有哪些方案？

讲讲贪心算法
并发量很大，服务器宕机。你会怎么做？
如果线上用户出现502错误你怎么排查？
说一下你平时的学习方法？
能告诉我你的博客地址吗？（当然可以啊，难道我要说不告诉你吗）
syn和lock的区别，哪个更好？
怎选择 三次握手，第三次失败了，失败怎么办？为什么四次挥手？
hashmap源码，为什么8个节点变成红黑树 又为什么到了6个节点才恢复为链表？（泊松分布）
缓存穿透，怎解决？
负载均衡算法的实现
轮询和随机的缺点？
分布式服务治理
dns迭代和递归的区别
算法：最大回文串



设计模式
观察者模式
工厂模式
命令链模式
单例模式
策略模式


MySQL优化、高可用
服务器性能剖析
MySQL查询
MySQL分库分表
MySQL索引优化
主从复制以及读写分离
数据库中间件mycat

微服务
服务注册发现
API 网关
配置中心
事件调度（kafka）
服务跟踪（starter-sleuth）
服务熔断（Hystrix）
API管理


分布式缓存
缓存雪崩
缓存穿透
缓存预热
缓存更新
缓存降级


网络编程
网络7层架构
TCP/IP原理
TCP三次握手/四次挥手
HTTP原理

Kafka
Kafka概念
Kafka数据存储设计
partition的数据文件（offset，MessageSize，data）
数据文件分段segment（顺序读写、分段命令、二分查找）
数据文件索引（分段索引、稀疏存储）
生产者设计
负载均衡（partition会均衡分布到不同broker上）
批量发送
压缩（GZIP或Snappy）
消费者设计

RabbitMQ
RabbitMQ概念
RabbitMQ架构
Exchange 类型



接口限流

