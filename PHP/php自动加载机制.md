**第一阶段**是面向过程式的做法，整个项目里到处都是include或require。

问题：难看，不易维护。

**第二阶段**是魔术方法__autoload，当new一个类的时候，如果类不存在，则会调用此方法传入类名。

如今很多框架都已经采用PSR-4规范化编程

也就是说 命名空间加上类名 就等于该类的文件路径 转义一下反斜线拼上后缀名

autoload机制可以使得PHP程序在使用类时才自动包含文件，而不是一开始就将所有的类文件全部包含，这就是自动加载。

问题：如今的项目越做越大，多人开发最终整合，甚至一个项目使用多个框架，这样就导致出现多个__autoload函数，函数名报错，函数内容不兼容。

**第三阶段**是目前的做法，PHP推出了**spl_autoload_register**方法，该方法可以注册一个autoload，并且可以多次注册。

有多种写法，各大PHP框架中都能找到自动加载身影。

注册的函数会进入队列中，多次注册时，先进先出，加载成功则终止，加载失败会继续调用队列中下一个被注册的函数。

 

学习了PHP自动加载技术，发现其实一点也不神奇，主要就是依靠`spl_autoload_register()`和`spl_autoload()`函数，底层还是使用了`include`的方式，所谓的自动，只是不需要我们每次都在PHP文件的顶部写很多`include`命令，只要把使用了自动加载函数的文件引入进来，当执行到未定义的类时，就会自动引入相关的类文件。为达到效果，其实也完全可以用一个循环来引入所需要的类，只是在循环引用前，需要把类名和类所在的文件做一个映射，但这样做完全没有使用自动加载函数来的优雅，而且还不灵活，还没有使用到命名空间。